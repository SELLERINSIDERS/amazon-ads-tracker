# Plan 02-01: Schema & SDK Setup

## Goal
Set up database schema for Amazon credentials and install SDK dependencies.

## Requirements Covered
- AMZN-06 (partial): Tokens stored in database

## Tasks

### 1. Update Prisma Schema
Add AmazonCredential model to store OAuth tokens and selected profile.

**File**: `prisma/schema.prisma`
```prisma
model AmazonCredential {
  id           String   @id @default(cuid())
  accessToken  String
  refreshToken String
  expiresAt    DateTime
  profileId    String?
  profileName  String?
  countryCode  String?
  marketplace  String?
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt
}
```

### 2. Install SDK
```bash
npm install @scaleleap/amazon-advertising-api-sdk
```

### 3. Update .env.example
Add LWA credentials placeholders.

### 4. Run Migration
```bash
npx prisma migrate dev --name add-amazon-credentials
```

### 5. Create Amazon SDK Wrapper
Create `lib/amazon.ts` with helper functions for OAuth operations.

## Verification
- [ ] Prisma schema compiles without errors
- [ ] Migration runs successfully
- [ ] SDK installed in package.json
- [ ] lib/amazon.ts exports OAuth helpers

## Estimated Complexity
Low - Schema changes and dependency installation only.
